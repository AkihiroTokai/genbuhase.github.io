<!DocType HTML>

<HTML>
	<Head>
		<Meta Charset = "UTF-8" />
		<Meta Name = "Viewport" Content = "Width=Device-Width, Initial-Scale=1, User-Scalable=No" />
		<Title>【Mastodon】MastodonRater v1.0 リリースしました！ | どっかのプログラなーいのブログ。</Title>

		<Script Src = "/assets/includes/DOM Extender v3.4.js"></Script>
		<Script Src = "/assets/includes/material-components-web.min.js"></Script>
		<Link Rel = "StyleSheet" Href = "/assets/includes/material-components-web.min.css" />

		<Script Src = "/assets/includes/common/common.js"></Script>
		<Link Rel = "StyleSheet" Href = "/assets/includes/common/common.css" />

		<Link Rel = "StyleSheet" Href = "../Blog.css" />

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<Script Src = "https://www.googletagmanager.com/gtag/js?id=UA-111257667-1" Async = "Async"></Script>
		<Script>
			window.dataLayer = window.dataLayer || [];
			function gtag () { dataLayer.push(arguments) }
			
			gtag('js', new Date());
			gtag('set', {'user_id': 'USER_ID'}); // ログインしている user_id を使用してUser-ID を設定します。
			gtag('config', 'UA-111257667-1');
		</Script>
	</Head>

	<Body>
		<Main>
			<H1 ID = "Article-Info" Class = "mdc-typography--headline" Style = '--createdAt: "(投稿日時：2018/5/2)"'>
				<Span ID = "Article-Info-Title">【Mastodon】MastodonRater v1.0 リリースしました！</Span>
			</H1>

			<Section ID = "Article-Content" Class = "mdc-typography--body2">どうもお久しぶりです。Genbooです。
やっとです！！MastodonRaterの再製作がやっと終わりました！！！✌︎('ω'✌︎ )

まぁ例によって<A Href = "https://mastodon-rater.herokuapp.com/" Target = "_blank">MastodonRater</A>へのリンクと<A Href = "https://github.com/GenbuProject/MastodonRater-Nodejs/" Target = "_blank">Github</A>へのリンク投げておきますっ(｀･ω･´)ゞ

今回の再製作で見直した部分は、ざっと羅列すると <B>動作環境・UI・DB導入・ローカライズ</B> の4点になるかな、と思います。

まず、新生MastodonRaterでは動作環境が異なっています。
以前のものはごく単純な静的ページであったのに対し、今回書き直したものは<A Href = "https://nodejs.org/" Target = "_blank">Node.js</A>で動作しています。
後でご紹介するDBの導入や、その他動作の最適化などに必須だったため、環境を一新してみました。
つまり言い換えれば <B>Github Pagesでは動かない</B> という事になります。ここ要注意です。テストに出ま……せん。多分。出たら教えて下さい。
なので、今回は<A Href = "https://heroku.com/" Target = "_blank">Heroku</A>を使って動かしています。実際に使ってみて、初めて凄さを実感できました。

次にUIを一新しています。
前バージョンでは<A Href = "https://material.io/" Target = "_blank">Material Design Components</A>を導入していたのですが、今回は<A Href = "http://materializecss.com/" Target = "_blank">Materialize</A>を利用しています。
Article Editorでも使ってるアレです。例のサーモン(Or たらこ)です。
MDCから変更した事により、かなりデザインの自由度が上がりました。

そして、DBを導入しました。
今までのものはわたしが手動でアカウントを作ってアプリを生成していた為に、色んなインスタンスでは使う事が出来ない、という状況が生まれていました。
しかし、DBを導入する事によってアプリが存在しなければ自動で生成し、生成されたアプリの情報を保存しておいて <B>1つのインスタンスにつき1回のアプリ生成</B> を実現することが出来ました。

最後にローカライズです。
ローカライズ機能については再製作初期から着手していました。
<B>localStorage</B> の利用を取りやめて <B>Cookie</B> を使う事によって、無駄なデータ圧迫を防いでいます。
現時点では日本語と英語に対応しています。(どなたか他の言語手伝っていただけたら嬉しかったりします(ﾎﾞｿｯ
仕組み的には <I>localesディレクトリ</I> の中に各言語のjsonファイルをぶち込んで、それをJavaScript側で読み込んでいるだけなのでかなり簡単になっています。
ですが、如何に綺麗なコードで、如何に早く適用できるかにこだわってみました。
かなり上手くできたかなーと思っています✌︎('ω'✌︎ )

最近全くMastodonに顔を出していませんが、それでもとりあえずリリース出来たので一安心できました。
まぁ多分使ってくれる人なんて居ないとは思いますが……:( ;´꒳`;):

ひとまずMastodon関連はこれにて終了かな？と思っています。
他に作るものも一応あったりしますので……(Simple Threadとかいろいろ)
また色んなものリリースしたらここに書き留めようかなーと思います。
ではまた。ごきげんよう。</Section>

			<Section ID = "disqus_thread">
				<Script>
					/**
					*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
					*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
					/*
					var disqus_config = function () {
						this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
						this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
					};
					*/
					(() => { // DON'T EDIT BELOW THIS LINE
						var d = document, s = d.createElement('script');
							s.src = 'https://genbuhase-blog.disqus.com/embed.js';
							s.setAttribute('data-timestamp', +new Date());
						(d.head || d.body).appendChild(s);
					})();
				</Script>
	
				<NoScript>
					Please enable JavaScript to view the <A Href = "https://disqus.com/?ref_noscript">comments powered by Disqus.</A>
				</NoScript>
			</Section>
		</Main>
	</Body>
</HTML>